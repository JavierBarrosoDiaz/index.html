<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Producto - Mi Tienda</title>
<link rel="stylesheet" href="style.css">
<style>
  .producto-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: flex-start;
    gap: 40px;
    max-width: 1000px;
    margin: 30px auto;
  }
  .producto-imagen {
    max-width: 350px;
    border-radius: 10px;
  }
  .producto-detalles {
    max-width: 500px;
  }
  .producto-detalles select, .producto-detalles input {
    margin-top: 10px;
    padding: 8px;
    border-radius: 5px;
  }
  .btn-agregar {
    padding: 10px 20px;
    background:#28a745;
    color:#fff;
    border:none;
    border-radius:5px;
    cursor:pointer;
    margin-top: 15px;
  }
</style>
</head>
<body>

<header>
  <a href="index.html"><img src="Naturpower.png" alt="Logo de la tienda" class="logo"></a>
  <nav>
    <a href="index.html">Inicio</a>
    <a href="productos.html">Productos</a>
    <a href="sobre-nosotros.html">Sobre Nosotros</a>
    <a href="blog.html">Blog</a>
    <a href="contacto.html">Contacto</a>
    <a href="carrito.html">Carrito</a>
  </nav>
</header>

<section class="section">
  <div class="producto-container">
    <img id="producto-imagen" class="producto-imagen" src="" alt="">
    <div class="producto-detalles">
      <h2 id="producto-nombre"></h2>
      <p id="producto-descripcion"></p>

      <div>
        <label><b>Selecciona tama√±o:</b></label><br>
        <select id="producto-tamano"></select>
      </div>

      <div style="margin-top: 15px;">
        <label><b>Selecciona sabor:</b></label><br>
        <select id="producto-sabor"></select>
      </div>

      <div style="margin-top: 15px;">
        <label>Cantidad:</label><br>
        <input type="number" value="1" min="1" class="cantidad">
      </div>

      <p style="margin-top: 20px; font-size: 20px;">Precio: ‚Ç¨<span id="producto-precio"></span></p>

      <button id="btn-agregar" class="btn-agregar">Agregar al carrito</button>

      <p style="margin-top: 20px;">
        <a href="productos.html" style="padding:10px 20px; background:#f04; color:#fff; border-radius:5px; text-decoration:none;">Volver a Productos</a>
      </p>
    </div>
  </div>
</section>

<a href="carrito.html" id="btn-carrito" style="
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 20px;
    background: #f04;
    color: #fff;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    z-index: 1001;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
">Cesta üõí</a>

<script>
// ===================== BASE DE DATOS =====================
const productos = {
  proteina1: {
    nombre: "Life Pro Whey Choco Monky 1kg",
    imagen: "https://www.lifepronutrition.com/3499-thickbox_default/life-pro-whey-choco-monky-1kg-bag-edition.jpg",
    descripcion: "Prote√≠na Whey de alta calidad para recuperaci√≥n muscular.",
    precio: 35,
    sabores: ["ChocoMonky"]  
  },
  proteina2: {
    nombre: "Life Pro Whey Procao Gluten Free 2kg",
    imagen: "https://www.lifepronutrition.com/3458-thickbox_default/life-pro-whey-procao-gluten-free-2kg.jpg",
    descripcion: "Prote√≠na Whey sin gluten, ideal para recuperaci√≥n y crecimiento muscular.",
    precio: 55,
    sabores: ["Cacao"]
  },
  vegan: {
    nombre: "Life Pro Vegan Protein 900g",
    imagen: "https://www.lifepronutrition.com/4617-thickbox_default/comprar-life-pro-vegan-protein-900g-.jpg",
    descripcion: "Prote√≠na vegana de origen vegetal.",
    precio: 31,
    sabores: ["ChocolateNatural"]
  },
  creatina1: {
    nombre: "Life Pro Creatine Monohydrate 300g",
    imagen: "https://www.lifepronutrition.com/4998-thickbox_default/life-pro-creatine-monohydrate-200mesh-300g-lollipop.jpg",
    descripcion: "Creatina pura para fuerza y rendimiento.",
    precio: 25,
    sabores: ["Lollipop"]
  },
  creatina2: {
    nombre: "Life Pro Creatine Creapure 300g",
    imagen: "https://www.lifepronutrition.com/4337-thickbox_default/life-pro-creatine-creapure-650g-unflavoured.jpg",
    descripcion: "Creatina Creapure de m√°xima pureza.",
    precio: 23,
    sabores: []
  },
  creatina3: {
    nombre: "Creatina Monohidrato en Polvo",
    imagen: "https://s4.thcdn.com//productimg/300/300/10530050-1315285205878292.jpg",
    opciones: [
      { tama√±o: "100 g", precio: 4.99 },
      { tama√±o: "250 g", precio: 11.5 }
    ],
    sabores: ["SinSabor","Tropical"]
  },
  preworkout1: {
    nombre: "Life Pro Elektro 400g",
    imagen: "https://www.lifepronutrition.com/3191-thickbox_default/life-pro-elektro-400g.jpg",
    descripcion: "Energ√≠a y enfoque antes del entrenamiento.",
    precio: 26
  },
  preworkout2: {
    nombre: "Life Pro Elektro Ki Caff Free Dragon Ball Z 400g",
    imagen: "https://www.lifepronutrition.com/4737-thickbox_default/life-pro-elektro-ki-caff-free-dragon-ball-z.jpg",
    descripcion: "Pre-workout sin cafe√≠na edici√≥n Dragon Ball.",
    precio: 29
  },
  preworkout3: {
    nombre: "ELEKTRO NEW 400G 20 SACHETS BUBBLE COLA",
    imagen: "https://www.lifeprocanarias.com/3036-thickbox_default/life-pro-elektro-new-400g-20-sachets.jpg",
    descripcion: "Formato sobres con sabor Bubble Cola.",
    precio: 29,
    sabores: ["BubbleCola"]
  },
  proteina3: {
    nombre: "Life Pro Whey Dragon Ball Vegeta 900g",
    imagen: "https://www.lifepronutrition.com/4680-thickbox_default/life-pro-whey-dragon-ball-super-limited-edition-vegeta.jpg",
    descripcion: "Prote√≠na Whey edici√≥n especial Vegeta.",
    precio: 31,
    sabores: ["Torrija"]
  },
  proteina4: {
    nombre: "WHEY NEW 1 KG Strawberry Cheesecake",
    imagen: "https://statics.promofarma.com/static/promofarma/prod/product_images/mr/CC6C4GMN_es_ES_0.jpeg",
    descripcion: "Prote√≠na Whey sabor Strawberry Cheesecake.",
    precio: 35,
    sabores: ["StrawberryCheesecake"]
  },
  proteina5: {
    nombre: "Mezcla de Tortitas Proteicas",
    imagen: "https://s4.thcdn.com//productimg/300/300/10867261-5185183632622529.jpg",
    opciones: [
      { tama√±o: "200 g", precio: 6.99 },
      { tama√±o: "500 g", precio: 21 }
    ],
    sabores: ["CanelayAz√∫car","SaborOriginal"]
  },
  proteina6: {
    nombre: "Impact Whey Protein",
    imagen: "https://s4.thcdn.com//productimg/300/300/10530943-3505283632278257.png",
    opciones: [
      { tama√±o: "30 g", precio: 2 },
      { tama√±o: "500 g", precio: 14.99 }
    ],
    sabores: ["Pl√°tano","Caf√©conLecheyCacao","FresaNatural","CremadeFresas","CremadeChocolate","ChocolateNatural"]
  },
  proteina7: {
    nombre: "Batidos Essential",
    imagen: "https://s4.thcdn.com//productimg/300/300/16670299-1755257697924550.jpg",
    opciones: [
      { tama√±o: "500 g", precio: 11.5 }
    ],
    sabores: ["Chocolateycaramelo"]
  },
  vitaminas1: {
    nombre: "Zinc y Magnesio C√°psulas",
    imagen: "https://s4.thcdn.com//productimg/300/300/10529513-9104913772545574.png",
    opciones: [
      { tama√±o: "60 c√°psulas", precio: 5.99 }
    ]
  },
  vitaminas2: {
    nombre: "Vitamina C con Bioflavonoides",
    imagen: "https://s4.thcdn.com//productimg/300/300/10575249-9964904416213287.jpg",
    opciones: [
      { tama√±o: "60 tabletas", precio: 5.99 }
    ]
  },
  vitaminas3: {
    nombre: "Vitamina D3 en C√°psulas",
    imagen: "https://s4.thcdn.com//productimg/300/300/13527718-2075140071679704.jpg",
    opciones: [
      { tama√±o: "30 c√°psulas", precio: 5.99 }
    ]
  }
};

// ===================== CARGA DEL PRODUCTO =====================
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

if(productos[id]){
  const p = productos[id];

  document.getElementById("producto-nombre").textContent = p.nombre;
  document.getElementById("producto-imagen").src = p.imagen;
  document.getElementById("producto-imagen").alt = p.nombre;
  document.getElementById("producto-descripcion").textContent = p.descripcion;

  const selTamano = document.getElementById("producto-tamano");

  // Manejo de tama√±os y precio
  if(p.opciones && p.opciones.length > 0){
    p.opciones.forEach(op => {
      const opt = document.createElement("option");
      opt.value = op.precio;
      opt.textContent = `${op.tama√±o} ‚Äî ${op.precio}‚Ç¨`;
      selTamano.appendChild(opt);
    });
    document.getElementById("producto-precio").textContent = selTamano.value;
    selTamano.onchange = () => {
      document.getElementById("producto-precio").textContent = selTamano.value;
    };
  } else {
    selTamano.disabled = true;
    selTamano.innerHTML = "<option>√önico tama√±o</option>";
    document.getElementById("producto-precio").textContent = p.precio;
  }

  // Manejo de sabores
  const selSabor = document.getElementById("producto-sabor");
  if(p.sabores && p.sabores.length > 0){
    p.sabores.forEach(sabor => {
      const opt = document.createElement("option");
      opt.value = sabor;
      opt.textContent = sabor;
      selSabor.appendChild(opt);
    });
  } else {
    selSabor.innerHTML = "<option value=''>Sin opciones</option>";
    selSabor.disabled = true;
  }

  // Agregar al carrito
  document.getElementById("btn-agregar").onclick = () => {
    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
    const cantidad = parseInt(document.querySelector(".cantidad").value) || 1;
    const tama√±oElegido = selTamano.options[selTamano.selectedIndex].textContent.split(" ‚Äî ")[0];
    const saborElegido = selSabor.value;

    const precioFinal = (p.opciones && p.opciones.length > 0) ? Number(selTamano.value) : p.precio;

    carrito.push({
      nombre: p.nombre,
      tama√±o: tama√±oElegido,
      sabor: saborElegido,
      precio: precioFinal,
      cantidad: cantidad
    });

    localStorage.setItem("carrito", JSON.stringify(carrito));
    alert(`${cantidad} x ${p.nombre} (${tama√±oElegido}${saborElegido ? ', ' + saborElegido : ''}) agregado(s) al carrito!`);
  };

} else {
  document.getElementById("producto-nombre").textContent = "Producto no encontrado";
  document.getElementById("producto-descripcion").textContent = "";
  document.getElementById("btn-agregar").style.display = "none";
  document.getElementById("producto-tamano").style.display = "none";
  document.getElementById("producto-sabor").style.display = "none";
}
</script>



</body>
</html>


